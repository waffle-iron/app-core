<template name="myOrchards">

  {{> breadcrumb}}

  {{#if currentUser}}
  

  <h2 class="page-header">Mis huertos</h2>

  <div class="row">

    <div class="col-md-4">
      <div class="panel panel-primary">
        <div class="panel-heading">Nuevo huerto</div>
        <div class="panel-body">
          <a class="btn btn-primary" href="{{pathFor 'myorchards.new'}}" role="button">A√±adir huerto</a>
        </div>
      </div>
    </div>

    {{#each myOrchards}}
      {{> myOrchardsTableItem}}
    {{/each}}

  </div>

  <div class="row">
    <div class="col-md-12">
      <table class="table table-condensed table-bordered table-striped">
        <thead>
          <tr>
            <th width="25px"></th>
            <th width="15%">Nombre</th>
            <th>Huerto</th>
            <th width="100px"></th>
          </tr>
        </thead>
        <tbody>
          {{#each myBenchs}}
            {{> myOrchardBenchsTableItem}}
          {{/each}}
          {{#each myTrees}}
            {{> myOrchardTreesTableItem}}
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>

  {{else}}
    {{> myOrchardNotLogged}}
  {{/if}}

</template>

<template name="myOrchardNotLogged">
  <div class="jumbotron">
      <div class="container">
        <h1 class="display-3">¬°Administra tus huertos!</h1>
        <p>Necesitas iniciar sesi√≥n para utilizar esta opci√≥n.</p>
      </div>
    </div>
</template>

<template name="myOrchardBenchsTableItem">
  <tr>
    <td>üå±</td>
    <td>{{name}}</td>
    <td>{{myOrchardName orchardId}}</td>
    <td><a href="{{pathFor "myorchards.one.benchs.one.edit" _bench=benchId _id=_id}}">editar</a></td>
  </tr>
</template>

<template name="myOrchardTreesTableItem">
  <tr>
    <td>üå≥</td>
    <td>{{name}}</td>
    <td>{{myOrchardName orchardId}}</td>
    <td><a haref="{{pathFor "myorchards.trees.one.edit"}}"></a></td>
  </tr>
</template>

<template name="myOrchardsTableItem">

  <div class="col-md-4">
    <div class="panel panel-default">
      <div class="panel-heading"><a href="{{pathFor 'myorchards.one'}}">{{name}}</a></div>
      <div class="panel-body">
        <a class="btn btn-default" href="{{pathFor 'myorchards.one.edit'}}">Editar</a>
        <a class="btn btn-danger remove-item" href="#">Eliminar</a>
      </div>
    </div>
  </div>

</template>

<template name="myOrchardsView">
  
  {{> breadcrumb}}

  <h2 class="page-header">Huerto: {{myOrchard.name}}</h2>

  <div class="row">

    <div class="col-md-12">
      <p>{{myOrchard.description}}</p>
    </div>

    {{#each myOrchard.notes}}
      <div class="col-md-4">
        <div class="note note-yellow">
          <p>{{.}}</p>
        </div>
      </div>
    {{/each}}

  </div>

  <div class="row">
    <div class="col-md-12">
      <br>
      <a class="btn btn-primary" href="{{pathFor 'myorchards.one.edit' _id=myOrchard._id}}">Editar</a>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <h3>Camas</h3>

      <ul class="list-group">
        {{#each myBenchs}}
          {{> myTreesAndBenchsListItem}}
        {{/each}}
      </ul>

      <a href="{{pathFor 'myorchards.one.benchs.index' _id=myOrchard._id}}">ver todos</a>

    </div>
    <div class="col-md-6">
      <h3>√Årboles</h3>

      <ul class="list-group">
        {{#each myTrees}}
          {{> myTreesAndBenchsListItem}}
        {{/each}}
      </ul>

      <a href="{{pathFor 'myorchards.one.trees.index' _id=myOrchard._id}}">ver todos</a>

    </div>
  </div>

</template>

<template name="myTreesAndBenchsListItem">
  <li class="list-group-item">{{name}}</li>
</template>

<template name="myOrchardsNew">
  {{> breadcrumb}}
  <h2 class="page-header">Crear nuevo huerto</h2>
  {{> quickForm collection="MyOrchards" id="myOrchardsInsert" type="insert"}}
</template>

<template name="myOrchardsEdit">
  {{> breadcrumb}}
  <h2 class="page-header">Editar: {{myOrchard.name}}</h2>
  {{> quickForm collection="MyOrchards" id="myOrchardsUpdate" type="update" doc=myOrchard}}
</template>
